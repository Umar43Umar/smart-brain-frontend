{"ast":null,"code":"import _classCallCheck from\"C:/Users/Lenovo/Desktop/smartbrain/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Lenovo/Desktop/smartbrain/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Lenovo/Desktop/smartbrain/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Lenovo/Desktop/smartbrain/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'./App.css';import Navigation from'./components/Navigation/Navigation';import FaceRecognition from'./components/FaceRecognition/FaceRecognition';import Signin from'./components/Signin/Signin';import Register from'./components/Register/Register';import Logo from'./components/Logo/Logo';import Rank from'./components/Rank/Rank';import ParticlesBg from'particles-bg';import ImageLinkForm from'./components/ImageLinkForm/ImageLinkForm';// import Clarifai from 'clarifai';\n// const app = new Clarifai.App({\n//   apiKey: '851885a104204a2191f730b890d7e6bf'\n// });\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var returnClarifaiRequestOptions=function returnClarifaiRequestOptions(imageUrl){var PAT='851885a104204a2191f730b890d7e6bf';var USER_ID='nzxs15syr1vg';var APP_ID='Myfirstapplication';// const MODEL_ID = 'face-detection';    \nvar IMAGE_URL=imageUrl;var raw=JSON.stringify({\"user_app_id\":{\"user_id\":USER_ID,\"app_id\":APP_ID},\"inputs\":[{\"data\":{\"image\":{\"url\":IMAGE_URL}}}]});var requestOptions={method:'POST',headers:{'Accept':'application/json','Authorization':'Key '+PAT},body:raw};return requestOptions;};// NOTE: MODEL_VERSION_ID is optional, you can also call prediction with the MODEL_ID only\n// https://api.clarifai.com/v2/models/{YOUR_MODEL_ID}/outputs\n// this will default to the latest version_id\nvar initialState={input:'',imageUrl:'',box:{},route:'signin',isSignedIn:false,user:{id:'',name:'',email:'',entries:0,joined:''}};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.loadUser=function(data){_this.setState({user:{id:data.id,name:data.name,email:data.email,entries:data.entries,joined:data.joined}});};_this.calculateFaceLocation=function(data){var clarifaiFace=data.outputs[0].data.regions[0].region_info.bounding_box;var image=document.getElementById('inputimage');var width=Number(image.width);var height=Number(image.height);return{leftCol:clarifaiFace.left_col*width,topRow:clarifaiFace.top_row*height,rightCol:width-clarifaiFace.right_col*width,bottomRow:height-clarifaiFace.bottom_row*height};};_this.displayFaceBox=function(box){_this.setState({box:box});};_this.onInputChange=function(event){_this.setState({input:event.target.value});};_this.onButtonSubmit=function(){_this.setState({imageUrl:_this.state.input});// app.models.predict('face-detection', this.state.input)\nfetch(\"https://api.clarifai.com/v2/models/face-detection/outputs\",returnClarifaiRequestOptions(_this.state.input)).then(function(response){return response.json();}).then(function(response){return _this.displayFaceBox(_this.calculateFaceLocation(response));}).catch(function(err){return console.log(err);});fetch('http://localhost:3000/image',{method:'put',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:_this.state.user.id})}).then(function(response){return response.json();}).then(function(entryCount){// Update the user's entry count in the state\n_this.setState(Object.assign(_this.state.user,{entries:entryCount}));}).catch(function(err){return console.log(err);});};_this.onRouteChange=function(route){if(route==='signout'){_this.setState(initialState);}else if(route==='home'){_this.setState({isSignedIn:true});}_this.setState({route:route});};_this.state=initialState;return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(ParticlesBg,{type:\"circle\",bg:{position:\"fixed\",zIndex:-1,top:0,left:0,right:0,bottom:0}}),/*#__PURE__*/_jsx(Navigation,{isSignedIn:this.state.isSignedIn,onRouteChange:this.onRouteChange}),this.state.route==='home'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Rank,{name:this.state.user.name,entries:this.state.user.entries}),/*#__PURE__*/_jsx(ImageLinkForm,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),/*#__PURE__*/_jsx(FaceRecognition,{box:this.state.box,imageUrl:this.state.imageUrl})]}):this.state.route==='signin'?/*#__PURE__*/_jsx(Signin,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}):/*#__PURE__*/_jsx(Register,{loadUser:this.loadUser,onRouteChange:this.onRouteChange})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","Navigation","FaceRecognition","Signin","Register","Logo","Rank","ParticlesBg","ImageLinkForm","jsx","_jsx","jsxs","_jsxs","returnClarifaiRequestOptions","imageUrl","PAT","USER_ID","APP_ID","IMAGE_URL","raw","JSON","stringify","requestOptions","method","headers","body","initialState","input","box","route","isSignedIn","user","id","name","email","entries","joined","App","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","loadUser","data","setState","calculateFaceLocation","clarifaiFace","outputs","regions","region_info","bounding_box","image","document","getElementById","width","Number","height","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFaceBox","onInputChange","event","target","value","onButtonSubmit","state","fetch","then","response","json","catch","err","console","log","entryCount","Object","assign","onRouteChange","_createClass","key","render","className","children","type","bg","position","zIndex","top","left","right","bottom"],"sources":["C:/Users/Lenovo/Desktop/smartbrain/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Navigation from './components/Navigation/Navigation';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport Logo from './components/Logo/Logo';\nimport Rank from './components/Rank/Rank';\nimport ParticlesBg from 'particles-bg'\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\n// import Clarifai from 'clarifai';\n\n// const app = new Clarifai.App({\n//   apiKey: '851885a104204a2191f730b890d7e6bf'\n// });\nconst returnClarifaiRequestOptions = (imageUrl) =>{\n  const PAT = '851885a104204a2191f730b890d7e6bf';\n  const USER_ID = 'nzxs15syr1vg';       \n  const APP_ID = 'Myfirstapplication';\n  // const MODEL_ID = 'face-detection';    \n  const IMAGE_URL = imageUrl;\n  const raw = JSON.stringify({\n    \"user_app_id\": {\n        \"user_id\": USER_ID,\n        \"app_id\": APP_ID\n    },\n    \"inputs\": [\n        {\n            \"data\": {\n                \"image\": {\n                    \"url\": IMAGE_URL\n                }\n            }\n        }\n    ]\n  });\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n        'Accept': 'application/json',\n        'Authorization': 'Key ' + PAT\n    },\n    body: raw\n  };\n  return requestOptions\n}\n\n      // NOTE: MODEL_VERSION_ID is optional, you can also call prediction with the MODEL_ID only\n      // https://api.clarifai.com/v2/models/{YOUR_MODEL_ID}/outputs\n      // this will default to the latest version_id\nconst initialState = {\n  input: '',\n  imageUrl:'',\n  box: {},\n  route: 'signin',\n  isSignedIn: false,\n  user: {\n      id: '',\n      name : '',\n      email: '',\n      entries: 0,\n      joined: ''\n  }\n}\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = initialState\n  }\n\n  loadUser = (data) =>{\n    this.setState({user: {\n      id: data.id,\n      name : data.name,\n      email: data.email,\n      entries: data.entries,\n      joined: data.joined\n    }})\n  }\n  calculateFaceLocation = (data) =>{\n    const clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box\n    const image = document.getElementById('inputimage')\n    const width = Number(image.width);\n    const height = Number(image.height);\n    return{\n      leftCol: clarifaiFace.left_col * width,\n      topRow: clarifaiFace.top_row * height,\n      rightCol: width - (clarifaiFace.right_col * width),\n      bottomRow: height - (clarifaiFace.bottom_row * height)\n    }\n  }\n\n  displayFaceBox = (box) => {\n    this.setState({box : box})\n  }\n\n  onInputChange = (event) => {\n    this.setState({input: event.target.value});\n  }\n  onButtonSubmit = () => {\n    this.setState({imageUrl: this.state.input});    \n    // app.models.predict('face-detection', this.state.input)\n    fetch(`https://api.clarifai.com/v2/models/face-detection/outputs`, returnClarifaiRequestOptions(this.state.input))\n      .then(response => response.json())\n      .then(response => this.displayFaceBox(this.calculateFaceLocation(response)))\n      .catch(err => console.log(err))\n    fetch('http://localhost:3000/image', {\n      method: 'put',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        id: this.state.user.id,\n      })\n    })\n      .then(response => response.json())\n      .then(entryCount => {\n        // Update the user's entry count in the state\n        this.setState(Object.assign(this.state.user, { entries: entryCount }));\n      })\n      .catch(err => console.log(err));\n  }\n  onRouteChange = (route) => {\n    if (route === 'signout'){\n      this.setState(initialState)\n    } else if (route === 'home') {\n      this.setState({isSignedIn: true})\n    }\n    this.setState({route: route});\n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        <ParticlesBg type=\"circle\" bg={{position: \"fixed\", zIndex: -1, top: 0, left: 0, right: 0, bottom: 0}} />\n        <Navigation isSignedIn={this.state.isSignedIn}onRouteChange={this.onRouteChange}/>\n        {this.state.route === 'home'\n          ? <div>\n              <Logo />   \n              <Rank name={this.state.user.name} entries={this.state.user.entries}/> \n              <ImageLinkForm \n                onInputChange={this.onInputChange}\n                onButtonSubmit={this.onButtonSubmit}/>\n              <FaceRecognition box={this.state.box} imageUrl={this.state.imageUrl} />\n            </div>\n          :(\n            this.state.route === 'signin'\n            ? <Signin loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n            : <Register loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n            )\n        }      \n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}